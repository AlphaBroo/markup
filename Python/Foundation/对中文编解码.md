# 字符编码

```
在计算机内存中，统一使用Unicode编码，当需要保存到硬盘或者需要传输的时候，就转换为UTF-8编码。
    
用记事本编辑的时候，从文件读取的UTF-8字符被转换为Unicode字符到内存里，编辑完成后，保存的时候再把Unicode转换为UTF-8保存到文件
    
浏览网页的时候，服务器会把动态生成的Unicode内容转换为UTF-8再传输到浏览器
```

# python2

```
python2解释器默认是ascii
str/unicode

若让代码内容为utf-8，需在开始处声明：
# coding:utf-8

python解释器编码问题解决方法：
# 方法一：
import sys
reload(sys)
sys.setdefaultencoding("utf-8")
# 方法二：
汉字前面加u
```

## 编解码

```
.decode()
将其他编码的字符串转换成 Unicode 编码
.encode()
将 Unicode 编码转换成其他编码的字符串
```

## json

```python
# 将python对象序列化为json字符串,默认以ascii编码，中文需要ensure_ascii=False
json.dumps(obj, ensure_ascii=False)

# 将json字符创转换为python对象,默认编码为None,中文的话，默认以unicode编码
json.loads(s, encoding=None)
```

## 示例

```python
# 单独转换"\u73bb\u7483"格式的编码并不难
string = "\u73bb\u7483"
print string.decode("unicode-escape")
# 如果你的dict1已经是字符串了，直接把里面的unicode编码转换成汉字（就像你写的dict3那样）
dict1 = '{"data":["\u73bb\u7483", "\u5851\u6599", "\u91d1\u5c5e"]}'
dict2  = dict1.decode("unicode-escape")
print dict2
# 如果你的dict1现在是个字典，要用json库转成字符串再处理
dict1 = {"data":["\u73bb\u7483", "\u5851\u6599", "\u91d1\u5c5e"]}
import json
j = json.dumps(dict1)
dict2  = j.decode("unicode-escape").decode("unicode-escape")
print dict2
```



# python3

```
python3解释器默认是utf-8
unicode/byte


.decode()
参数为空python2中默认以ASCII解码，
将其他编码的字符串转换成 Unicode 编码
.encode()
将 Unicode 编码转换成其他编码的字符串
```



