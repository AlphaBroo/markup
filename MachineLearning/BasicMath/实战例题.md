## 期望

- 从1,2,3...98,99,2015这100个数中任意选择若干数(可能为0个数)求异或，试求异或的期望值

> 解析

针对任何一个二进制位，取奇数个1异或后会得到1，取偶数个1异或后会得到0，与取0的个数无关
给定的最大数$2015=(11111011111)_2$，共11位
针对每一位分别计算，考虑第i位X_i,假定给定的100个数中第i位一共 有N个1，M个0，某次采样取到的1的个数为k。则有
$$
E(P\{X_i=1\})= \frac{2^m\cdot{\sum_{k\in{odd}}{C_n^k}}}{2^{m+n}}=\frac{\sum_{k\in{odd}}{C_n^k}}{2^{n}}=\frac{1}{2}
$$
11位二进制数中，每个位取1的期望都是0.5
$$
\begin{align*}
E(X)  &= E\lgroup{\sum_{i=0}^{10}{X_i\cdot{P\{X_i\}}}}\rgroup\\
&= E\lgroup{\sum_{i=0}^{10}(2^i\cdot{P\{X_i=1\}+0\cdot{P\{X_i=0\}}})}\rgroup  \\
&= E\lgroup{\sum_{i=0}^{10}(2^i\cdot{P\{X_i=1\}})}\rgroup \\
&= \sum_{i=0}^{10}{E(2^i\cdot{P\{X_i=1\}})}\\
&= \sum_{i=0}^{10}{2^i\cdot{E({P\{X_i=1\}}})} \\
&= 1023.5
\end{align*}
$$

- 某Hash函数将任一自负串非均匀映射到正整数k，概率为$2^{-k}$，如下所示 。现有字符串集合S，其元素经映射后，得到的最大整数位10，试估计S的元素个数 。$P\{Hash(<string>)=k\}=2^{-k}, k\in{Z^{+}}$

> 解析

由于Hash映射成整数是指数级衰减的，最大整数位10可近似考虑为整数10曾经出现，继续近似为整数10出现过1次。

字符串被影射成10的概率为$p=2^{-10}=1/1024$，从而，一次映射即两点分布
$$
\begin{cases}
P(X=1)=\frac{1}{1024}\\
P(X=0)=\frac{1023}{1024}
\end{cases}
$$
从而n个字符串的映射，即二项分布
$$
P\{X=k\}=C_n^kp^k(1-p)^{n-k},其中p=\frac{1}{1024}
$$
期望表示，n次事件发生的次数当前问题中发生1次，则
$$
E(P\{X=k\})=np=1,\\
n=\frac{1}{p},\\
n=1024
$$

